(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/discount/index"],{"0d3e":function(t,n,o){"use strict";var i=o("91f9"),e=o.n(i);e.a},2711:function(t,n,o){"use strict";(function(t,n){var i=o("4ea4");o("8824");i(o("66fd"));var e=i(o("35e5"));t.__webpack_require_UNI_MP_PLUGIN__=o,n(e.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},"35e5":function(t,n,o){"use strict";o.r(n);var i=o("87a6"),e=o("b712");for(var a in e)["default"].indexOf(a)<0&&function(t){o.d(n,t,(function(){return e[t]}))}(a);o("0d3e");var c=o("f0c5"),r=Object(c["a"])(e["default"],i["b"],i["c"],!1,null,"08b5c187",null,!1,i["a"],void 0);n["default"]=r.exports},"72c8":function(t,n,o){"use strict";(function(t){var i=o("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;o("26cb");var e=o("3995"),a=i(o("a29e")),c={mixins:[a.default],data:function(){return{list:[],loading:!1,loadend:!1,loadTitle:"加载更多",page:1,limit:10,type:0,giftInfo:{show:!1,giveCoupon:[],giveIntegral:[],giveProducts:[]}}},components:{countDown:function(){o.e("components/countDown/index").then(function(){return resolve(o("00a7"))}.bind(null,o)).catch(o.oe)},giftGoods:function(){o.e("pages/activity/components/giftGoods/index").then(function(){return resolve(o("14f8"))}.bind(null,o)).catch(o.oe)},home:function(){Promise.all([o.e("common/vendor"),o.e("components/home/index")]).then(function(){return resolve(o("d878"))}.bind(null,o)).catch(o.oe)}},onLoad:function(t){this.type=t.promotions_type,this.getList()},onShow:function(){t.removeStorageSync("form_type_cart")},onReachBottom:function(){this.getList()},methods:{giftGoods:function(t){var n=this;this.giftInfo.show=!0,(0,e.giveInfo)(t.promotions.id).then((function(t){n.giftInfo.giveCoupon=t.data.giveCoupon,n.giftInfo.giveProducts=t.data.giveProducts;var o=t.data.giveIntegral;o.forEach((function(t,n){t.id=n})),n.giftInfo.giveIntegral=o})).catch((function(t){return n.$util.Tips({title:t})}))},myGift:function(){this.$set(this.giftInfo,"show",!1)},goDetails:function(n){t.navigateTo({url:"/pages/goods_details/index?id=".concat(n.id,"&promotions_type=").concat(this.type)})},getList:function(){var t=this;return!this.loadend&&(!this.loading&&(t.loading=!0,t.loadTitle="加载更多",void(0,e.promotionsList)(this.type,{page:t.page,limit:t.limit}).then((function(n){var o=n.data.list,i=o.length<t.limit,e=t.$util.SplitArray(o,t.list);t.$set(t,"list",e),t.loadend=i,t.loading=!1,t.loadTitle=i?"没有更多内容啦~":"加载更多",t.page=t.page+1})).catch((function(n){return t.loading=!1,t.loadTitle="加载更多",t.$util.Tips({title:n})}))))}}};n.default=c}).call(this,o("543d")["default"])},"87a6":function(t,n,o){"use strict";o.d(n,"b",(function(){return i})),o.d(n,"c",(function(){return e})),o.d(n,"a",(function(){}));var i=function(){var t=this,n=t.$createElement,o=(t._self._c,t.__map(t.list,(function(n,o){var i=t.__get_orig(n),e=4!=t.type&&3==t.type?n.promotions.promotions.length:null,a=4!=t.type&&3==t.type&&1!=n.promotions.promotions[0].discount_type?parseFloat(n.promotions.promotions[0].discount):null;return{$orig:i,g0:e,m0:a}}))),i=t.list.length;t.$mp.data=Object.assign({},{$root:{l0:o,g1:i}})},e=[]},"91f9":function(t,n,o){},b712:function(t,n,o){"use strict";o.r(n);var i=o("72c8"),e=o.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(n,t,(function(){return i[t]}))}(a);n["default"]=e.a}},[["2711","common/runtime","common/vendor"]]]);
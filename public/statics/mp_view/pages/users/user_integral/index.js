require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/user_integral/index"],{1261:function(t,e,n){"use strict";var i=n("d992"),a=n.n(i);a.a},"4d34":function(t,e,n){"use strict";n.r(e);var i=n("dea3"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"7dc2":function(t,e,n){"use strict";n.r(e);var i=n("a999"),a=n("4d34");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("1261");var r=n("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"39c459a0",null,!1,i["a"],void 0);e["default"]=s.exports},a999:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=(this._self._c,this.userInfo.clear_integral>0&&this.userInfo.clear_time>0?this._f("dateFormat")(this.userInfo.clear_time):null),n=this.integralList.length,i=this.integralList.length;this.$mp.data=Object.assign({},{$root:{f0:e,g0:n,g1:i}})},a=[]},ce97:function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("8824");i(n("66fd"));var a=i(n("7dc2"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},d992:function(t,e,n){},dea3:function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("99c8"),o=i(n("3013")),r=(n("d5f7"),n("26cb")),s=i(n("a29e")),u={components:{emptyPage:function(){n.e("components/emptyPage").then(function(){return resolve(n("781a"))}.bind(null,n)).catch(n.oe)},home:function(){Promise.all([n.e("common/vendor"),n.e("components/home/index")]).then(function(){return resolve(n("d878"))}.bind(null,n)).catch(n.oe)}},filters:{dateFormat:function(t){return(0,o.default)(1e3*t).format("YYYY-MM-DD")}},mixins:[s.default],data:function(){return{navList:[{name:"分值明细",icon:"icon-mingxi"},{name:"分值提升",icon:"icon-tishengfenzhi"}],current:0,page:1,limit:10,integralList:[],userInfo:{},loadend:!1,loading:!1,loadTitle:"加载更多",isAuto:!1,isShowAuth:!1,isTime:0}},computed:(0,r.mapGetters)(["isLogin"]),watch:{isLogin:{handler:function(t,e){},deep:!0}},onLoad:function(){this.isLogin?(this.getUserInfo(),this.getIntegralList()):this.isShowAuth=!0},onShow:function(){t.removeStorageSync("form_type_cart")},onReachBottom:function(){this.getIntegralList()},methods:{onLoadFun:function(){this.getUserInfo(),this.getIntegralList(),this.isShowAuth=!1},authColse:function(t){this.isShowAuth=t},getUserInfo:function(){var t=this;(0,a.postSignUser)({sign:1,integral:1,all:1}).then((function(e){t.$set(t,"userInfo",e.data);var n=e.data.clear_time,i=n-1209600,a=Date.parse(new Date)/1e3;t.isTime=i<a?1:0}))},getIntegralList:function(){var t=this;t.loading||t.loadend||(t.loading=!0,t.loadTitle="",(0,a.getIntegralList)({page:t.page,limit:t.limit}).then((function(e){var n=e.data,i=n.length<t.limit;t.integralList=t.$util.SplitArray(n,t.integralList),t.$set(t,"integralList",t.integralList),t.page=t.page+1,t.loading=!1,t.loadend=i,t.loadTitle=i?"没有更多内容啦~":"加载更多"}),(function(e){this.loading=!1,t.loadTitle="加载更多"})))},nav:function(t){this.current=t}}};e.default=u}).call(this,n("543d")["default"])}},[["ce97","common/runtime","common/vendor"]]]);
require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/user_coupon/index"],{"188f2":function(t,o,n){"use strict";var i=n("39f51"),e=n.n(i);e.a},2270:function(t,o,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e=n("53c2"),s=(n("d5f7"),n("26cb")),a=i(n("a29e")),u=n("5f9b"),c={components:{home:function(){Promise.all([n.e("common/vendor"),n.e("components/home/index")]).then(function(){return resolve(n("d878"))}.bind(null,n)).catch(n.oe)}},mixins:[a.default],data:function(){return{couponsList:[],loading:!1,isAuto:!1,isShowAuth:!1,navOn:1,page:1,limit:15,finished:!1,imgHost:u.HTTP_REQUEST_URL}},computed:(0,s.mapGetters)(["isLogin"]),watch:{isLogin:{handler:function(t,o){},deep:!0}},onLoad:function(){this.isLogin?this.getUseCoupons():this.isShowAuth=!0},onShow:function(){t.removeStorageSync("form_type_cart")},onReachBottom:function(){this.getUseCoupons()},methods:{onNav:function(t){this.navOn=t,this.couponsList=[],this.page=1,this.finished=!1,this.getUseCoupons()},useCoupon:function(o){var n="";if(0==o.category_id&&""==o.product_id&&(n="/pages/goods/goods_list/index?title=默认"),0!=o.category_id&&(n=1==o.category_type?"/pages/goods/goods_list/index?cid="+o.category_id+"&title="+o.category_name:"/pages/goods/goods_list/index?sid="+o.category_id+"&title="+o.category_name),""!=o.product_id){var i=o.product_id.split(","),e=i.length;n=1==e?"/pages/goods_details/index?id="+o.product_id:"/pages/goods/goods_list/index?productId="+o.product_id+"&title=默认"}t.navigateTo({url:n})},onLoadFun:function(){this.getUseCoupons(),this.isShowAuth=!1},authColse:function(t){this.isShowAuth=t},getUseCoupons:function(){var o=this;o.loading||o.finished||(o.loading=!0,t.showLoading({title:"正在加载…"}),(0,e.getUserCoupons)(this.navOn,{page:this.page,limit:this.limit}).then((function(n){o.loading=!1,t.hideLoading(),o.couponsList=o.couponsList.concat(n.data),o.finished=n.data.length<o.limit,o.page+=1})).catch((function(n){o.loading=!1,t.showToast({title:n,icon:"none"})})))}}};o.default=c}).call(this,n("543d")["default"])},"39f51":function(t,o,n){},"3a6f":function(t,o,n){"use strict";n.r(o);var i=n("49b2"),e=n("b84b");for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(o,t,(function(){return e[t]}))}(s);n("188f2"),n("d7d6");var a=n("f0c5"),u=Object(a["a"])(e["default"],i["b"],i["c"],!1,null,"092792fa",null,!1,i["a"],void 0);o["default"]=u.exports},"49b2":function(t,o,n){"use strict";n.d(o,"b",(function(){return i})),n.d(o,"c",(function(){return e})),n.d(o,"a",(function(){}));var i=function(){var t=this,o=t.$createElement,n=(t._self._c,t.couponsList.length),i=n?t.__map(t.couponsList,(function(o,n){var i=t.__get_orig(o),e=1!=o.coupon_type?parseFloat(o.coupon_price):null;return{$orig:i,m0:e}})):null,e=!t.couponsList.length&&2===t.page;t.$mp.data=Object.assign({},{$root:{g0:n,l0:i,g1:e}})},e=[]},5473:function(t,o,n){"use strict";(function(t,o){var i=n("4ea4");n("8824");i(n("66fd"));var e=i(n("3a6f"));t.__webpack_require_UNI_MP_PLUGIN__=n,o(e.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},7986:function(t,o,n){},b84b:function(t,o,n){"use strict";n.r(o);var i=n("2270"),e=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(o,t,(function(){return i[t]}))}(s);o["default"]=e.a},d7d6:function(t,o,n){"use strict";var i=n("7986"),e=n.n(i);e.a}},[["5473","common/runtime","common/vendor"]]]);
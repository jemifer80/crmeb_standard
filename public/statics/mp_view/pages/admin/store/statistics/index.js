require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/admin/store/statistics/index"],{"0ff7":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("5a52"),n=(new Date).getFullYear(),s=(new Date).getMonth()+1,r=(new Date).getDate(),o={name:"Statistics",components:{uniCalendar:function(){Promise.all([a.e("common/vendor"),a.e("components/uni-calendar/uni-calendar")]).then(function(){return resolve(a("067d"))}.bind(null,a)).catch(a.oe)},Loading:function(){a.e("components/Loading/index").then(function(){return resolve(a("ba9d"))}.bind(null,a)).catch(a.oe)}},props:{},data:function(){return{cardData:{data:[],list:[]},datalist:!1,tip:1,value:[[n,s,r-1],[n,s,r]],isrange:!0,weekSwitch:!1,ismulti:!1,monFirst:!0,clean:!1,lunar:!1,renderValues:[],monthRange:[],current:!1,where:{start:"",stop:"",is_manager:"",page:1,limit:15},types:"",time:"today",title:"",loaded:!1,loading:!1,list:[],cWidth:"",cHeight:"",LineA:{categories:["2012","2013","2014","2015","2016","2017"],series:[{data:[35,8,25,37,4,20]}]},info:{startDate:"",endDate:"",lunar:!1,range:!0,insert:!1,selected:[],showMonth:!1},type:"",before:"",after:""}},onLoad:function(t){this.type=t.type,t.before&&(this.before=t.before),t.after&&(this.after=t.after),t.manager&&(this.where.is_manager=t.manager),this.cWidth=e.upx2px(690),this.cHeight=e.upx2px(500),this.setTime(t.time)},methods:{getList:function(){var e=this;this.loading=!0,(0,i.getStatisticsListApi)(this.type,this.where).then((function(t){e.cardData.data=t.data.data,e.datalist=!0,e.where.page+=1,e.loading=!1,e.cardData.list=e.cardData.list.concat(t.data.list),t.data.list.length<e.where.limit&&(e.tip=2)}))},setTime:function(e){this.time=e;var t=(new Date).getFullYear(),a=(new Date).getMonth()+1,i=(new Date).getDate();switch(this.list=[],this.tip=1,this.cardData={data:[],list:[]},this.where.page=1,this.loaded=!1,this.loading=!1,e){case"today":this.where.start=new Date(Date.parse(t+"/"+a+"/"+i)).getTime()/1e3,this.where.stop=new Date(Date.parse(t+"/"+a+"/"+i)).getTime()/1e3+86400-1,this.title="今日",this.getList();break;case"yesterday":this.where.start=new Date(Date.parse(t+"/"+a+"/"+i)).getTime()/1e3-86400,this.where.stop=new Date(Date.parse(t+"/"+a+"/"+i)).getTime()/1e3-1,this.title="昨日",this.getList();break;case"month":this.where.start=new Date(t,(new Date).getMonth(),1).getTime()/1e3,this.where.stop=new Date(t,a,1).getTime()/1e3-1,this.title="本月",this.getList();break;case"seven":this.where.start=new Date(Date.parse(t+"/"+a+"/"+i)).getTime()/1e3+86400-604800,this.where.stop=new Date(Date.parse(t+"/"+a+"/"+i)).getTime()/1e3+86400-1,this.title="七日",this.getList();break;case"date":var n=new Date(this.before).getTime()/1e3,s=new Date(this.after).getTime()/1e3;this.where.start=n,this.where.stop=s,Promise.all([this.getList()]);break}},dateTitle:function(){e.navigateTo({url:"/pages/admin/store/custom_date/index?type="+this.type})},close:function(){this.current=!1},confirm:function(e){var t,a;e.range.after&&e.range.before&&(e.range.before>e.range.after?(t=new Date(e.range.after+" 00:00:00").getTime()/1e3,a=new Date(e.range.before+" 23:59:59").getTime()/1e3):(t=new Date(e.range.before+" 00:00:00").getTime()/1e3,a=new Date(e.range.after+" 23:59:59").getTime()/1e3),this.where.start=t,this.where.stop=a,this.list=[],this.cardData.list=[],this.where.page=1,this.loaded=!1,this.loading=!1,Promise.all([this.getList()]))}},onReachBottom:function(){1==this.tip&&this.getList()}};t.default=o}).call(this,a("543d")["default"])},"286f":function(e,t,a){"use strict";a.r(t);var i=a("0ff7"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},5852:function(e,t,a){"use strict";var i=a("a3cf"),n=a.n(i);n.a},"7d3c":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var i=function(){var e=this.$createElement;this._self._c},n=[]},a3cf:function(e,t,a){},ae0c:function(e,t,a){"use strict";(function(e,t){var i=a("4ea4");a("8824");i(a("66fd"));var n=i(a("e156"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(n.default)}).call(this,a("bc2e")["default"],a("543d")["createPage"])},e156:function(e,t,a){"use strict";a.r(t);var i=a("7d3c"),n=a("286f");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("5852");var r=a("f0c5"),o=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"91cd5582",null,!1,i["a"],void 0);t["default"]=o.exports}},[["ae0c","common/runtime","common/vendor"]]]);